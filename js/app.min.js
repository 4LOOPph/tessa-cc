!function(){"use strict";angular.module("tessaApp",["ui.router","restangular","ngSanitize","ui.bootstrap","ui.select","ngTouch","ngAnimate","angularjs-dropdown-multiselect","toastr","LocalStorageModule","angucomplete-alt","ngFrontier","angularMoment","ngDialog","angularSpinner","angular-loading-bar","angular.filter","textAngular"]).constant("API_URL","http://tessa-api.herokuapp.com").constant("API_VERSION","/api/1.0/").config(["$stateProvider","$httpProvider","RestangularProvider","$urlRouterProvider","API_URL","API_VERSION","$provide","usSpinnerConfigProvider",function(t,e,r,l,o,a,i,u){e.interceptors.push("authInterceptor"),e.interceptors.push("httpInterceptor"),i.value("baseURL",o),r.setBaseUrl(o+a),u.setDefaults({color:"#004D7F",radius:20,width:8,length:16}),t.state("main",{url:"/main",templateUrl:"views/main.html",controller:"MainCtrl"}).state("main.experience",{url:"/experience",templateUrl:"views/experience.html",controller:"MainCtrl"}).state("login",{url:"/login",templateUrl:"views/login.html",controller:"loginCtrl"}).state("priceBook",{url:"/priceBook",templateUrl:"views/priceBook.html"}).state("main.productCatalogue",{url:"/productCatalogue",templateUrl:"views/productCatalogue.html",controller:"productCtrl"}).state("main.customerQuotes",{url:"/customerQuotes",templateUrl:"views/customerQuotes.html"}).state("main.quoteProfile",{url:"/quoteProfile/:quote_id",templateUrl:"views/quoteProfile.html",controller:"QuoteCtrl"}).state("main.search",{url:"/search?value",templateUrl:"views/search.html",controller:"searchCtrl"}).state("main.quote",{url:"/quote",templateUrl:"views/quote.html",controller:"QuoteCtrl"}).state("main.productDetailsSolution",{url:"/productCatalogue/productDetailsSolution/:selected_id",templateUrl:"views/productDetailsSolution.html",controller:"detailSolutionCtrl"}).state("main.productDetailsHardware",{url:"/productCatalogue/productDetailsHardware/:selected_id",templateUrl:"views/productDetailsHardware.html",controller:"hardwareDetailsCtrl"}),l.otherwise("/login")}])}();
!function(){"use strict";angular.module("tessaApp").run(["$location","APIFactory","$rootScope","$window","$state","localStorageService","$frontierAnalytics","usSpinnerService",function(e,n,t,i,a,o,c,r){t._=window._,t.allproducts=[],t.cartItems=[],t.cartItems=_.isEmpty(o.get("Cart"))?[]:JSON.parse(o.get("Cart")),c.debugMode(!1),c.Initialize({accessCode:"958441082755103",trackerName:"project-tessa",encoding:"utf-8"}),c.allowPageTracking(!1),c.allowEventTracking(!1),c.allowViewTracking(!1),c.allowAppTracking(!1),c.allowDeviceTracking(!1);var s=function(){console.log("InitializeData"),async.waterfall([function(e){n.getArticles(function(n){_.each(n.response.result,function(e){e.type="Experience"}),_.each(n.response.result,function(e){e.name=e.title,e.id=e.article_id}),e(null,n.response.result)})},function(e,t){n.getProductBundle(function(n){_.each(n.response.result,function(e){e.type="Solutions"}),_.each(n.response.result,function(e){e.name=e.bundle_name,e.id=e.pb_id}),t(null,n.response.result,e)})},function(e,t,i){var a=[];n.getProduct(function(n,o){a=_.filter(o.response.result,function(e){return"Hardware"==e.product_type}),_.each(a,function(e){e.type="Hardware"}),_.each(a,function(e){e.name=e.item_name,e.id=e.p_id}),i(null,a,e,t)})},function(e,n,i,a){var o=[];_.each(e,function(e){1==e.is_published&&0==e.is_archived&&o.push(e)}),_.each(n,function(e){1==e.is_published&&0==e.is_archived&&o.push(e)}),_.each(i,function(e){1==e.is_active&&o.push(e)}),t.allproducts=o}])};s(),t.$on("InitializeData",function(){s()}),t.$on("loading:progress",function(){r.spin("spinner-1")}),t.$on("loading:finish",function(){r.stop("spinner-1")}),t.goBack=function(){i.history.back()},t.$on("$stateChangeSuccess",function(e,n,i,a,o){t.label="Solutions",c.trackPage(n.name,n.url,n.templateUrl)})}])}();
!function(){"use strict";function e(e,t,n,a,s,i,r,c,l,o){t.seemore=!0,t.date=new Date,r.user=s.isEmpty(o.get("User"))?[]:JSON.parse(o.get("User")),t.openArticle=function(e,n,a){var s=l.open({animation:!0,templateUrl:"./views/article.modal.html",size:"md",controller:"ModalInstanceCtrl",backdrop:!0,windowClass:"xd-modal",backdropClass:"modal-backdrop fade in",resolve:{article:function(){return e},articlesList:function(){return n},articleindex:function(){return a}}});s.result.then(function(e){t.selected=e},function(){console.info("Modal dismissed at: "+new Date)})},t.generateArticles=function(){n.getArticles(function(e){t.articlesList=[],t.tags=[],t.items=[],t.lists=[],t.selectedTag=[],s.each(e.response.result,function(e){e.name=e.title,e.type="Experience"}),t.articlesList=e.response.result;for(var n=0;n<t.articlesList.length;n++)for(var a=0;a<t.articlesList[a].tags.length;a++)t.articlesList[n].tags[a]&&t.tags.push(t.articlesList[n].tags[a])})},t.product=function(){o.remove("label"),o.remove("hardtype"),i.go("main.productCatalogue")},t.generateArticles(),t.tagselected=[],t.toggleSelectedTag=function(e){t.tagselected.indexOf(e)==-1?t.tagselected.push(e):t.tagselected=s.filter(t.tagselected,function(t){return t.tags_id!=e.tags_id})},t.isTagSelected=function(e){return t.tagselected.indexOf(e)!==-1},t.selectedItem=[],t.isOnSelectedTag=function(){return function(e){if(!(t.tagselected.length>0))return!0;var n=!1,a=s.map(t.tagselected,"tags_id");s.forEach(e.tags,function(e){a.indexOf(e.tags_id)!==-1&&(console.log(""),n=!0,console.log("flag:",n))});return n}},t.$on("$stateChangeSuccess",function(e,n,a,s,i){"main.experience"==n.name&&(t.tagselected=[],t.generateArticles())})}angular.module("tessaApp").controller("MainCtrl",e),e.$inject=["$http","$scope","APIFactory","$location","_","$state","$rootScope","$filter","$uibModal","localStorageService"]}();
!function(){"use strict";function e(e,n,t,i,s,o,r,c,u){e.login=function(){u.spin("spinner-login"),n.authenticateAccount(e.user).then(function(n){n.success?(c.set("User",JSON.stringify(n.result.user)),u.stop("spinner-login"),r.go("main.experience")):(e.err="Account does not exist",u.stop("spinner-login"))})}}angular.module("tessaApp").controller("loginCtrl",e),e.$inject=["$scope","AuthFactory","$location","$stateParams","$filter","_","$state","localStorageService","usSpinnerService"]}();
!function(){"use strict";function e(e,t,l,i,r,a,c,n,s,o,d,u){function p(e){return a.map(e,function(e){if("location"==e.type){var t=e.label.replace(/[\s]/g,"");return{label:t.toLowerCase(),type:e.type,index:e.sortindex}}if("configuration"==e.type){var l=e.label.replace(/[\s]/g,"");return{label:l.toLowerCase(),type:e.type,index:e.sortindex}}return"Family"==e.type?{label:e.label,type:e.type,index:e.sortindex}:"Products"==e.type?{label:e.label,type:e.type,index:e.sortindex}:void 0})}e.shows=!0,e.DisplayTab="All",e.allproducts=n.allproducts,e.searchkeyword=i.value,e.bundles=[],e.experience=[],e.location=[],e.configuration=[],e.filterProduct=[],e.filtersearch=[],e.copy=[],e.typeselected=[],e.typeselected2=[],e.typeselected3=[],e.typeselected4=[],e.experiencedata=[{id:1,label:"Eze Impress",type:"Family"},{id:2,label:"Eze Wifi",type:"Family"}],e.producttypedata=[{id:4,label:"Hardware",type:"Products"},{id:6,label:"Experience",type:"Products"},{id:7,label:"Solution",type:"Products"}],e.location=[{id:8,label:"Indoor",type:"location"},{id:9,label:"Outdoor",type:"location"},{id:10,label:"Semi Outdoor",type:"location"}],e.config=[{id:11,label:"Wall Mounted",type:"configuration"},{id:12,label:"Floor Mounted",type:"configuration"}],e.dynamicPopover={templateUrl:"productType.html",templateUrl2:"ezefamily.html",templateUrl3:"location.html",templateUrl4:"configuration.html"},n.$watch("allproducts",function(t){e.allproducts=t}),i.value&&async.waterfall([function(e){t.getProduct(function(t,l){e(null,l.response.result)})},function(e,l){t.getProductBundle(function(t){l(null,e,t.response.result)})},function(l,c,n){t.getAll(i.value).then(function(t){if(200==t.statusCode&&t.response.success){var l=[];l=a.filter(t.response.result.values,function(e){return"Services"!==e.type}),a.each(l,function(t){if(!a.isEmpty(e.allproducts)){var l=a.find(e.allproducts,{id:t.id});a.isUndefined(l)||(l.p_id?(t.is_archived=l.is_archived,t.img_default=l.img_default,t.is_published=l.is_published,t.tags=l.tags):l.pb_id?(t.product_images=l.product_images,t.is_archived=l.is_archived,t.is_published=l.is_published,t.product_bundle_category=l.product_bundle_category):l.article_id&&(t.mediafiles=l.mediafiles,t.is_active=l.is_active,t.type=l.type))}})}var i=[],n=r("filter")(l,{self:"articles"});e.articles=a.filter(n,function(e){return 1==e.is_active});var s=r("filter")(l,{self:"products"});e.products=a.filter(s,function(e){return 1==e.is_published&&0==e.is_archived});var d=r("filter")(l,{self:"bundles"});a.each(d,function(t){var l=a.find(c,{pb_id:t.id});a.isUndefined(l)||(l.pb_id==t.id&&(l.self=t.self,l.type="Solution",l.product_bundle_category.length>0&&(l.category_label=l.product_bundle_category[0].category_label)),e.bundles.push(l))}),e.bundles=a.filter(e.bundles,function(e){return 1==e.is_published&&0==e.is_archived}),i.push(e.articles),i.push(e.products),i.push(e.bundles),e.filtersearch=a.flattenDeep(i),e.copy=angular.copy(e.filtersearch),e.filterProduct=angular.copy(e.filtersearch),a.isEmpty(e.filtersearch)&&o(function(){e.noresult="NO RESULT FOUND"},700)})}]),e.activeTab=function(t){e.DisplayTab=t},e.detail=function(t,l){e.selected=t},e.openModal=function(t){var l=s.open({animation:!0,templateUrl:"./views/search.detail.modal.html",size:"md",controller:"searchDetailControl",backdrop:!0,windowClass:"xd-modal",backdropClass:"modal-backdrop fade in",resolve:{search:function(){return t}}});l.result.then(function(t){e.selected=t},function(){console.info("Modal dismissed at: "+new Date)})},e.filterCheck=function(){e.typeselected&&e.typeselected.length<1?(e.filterProduct=angular.copy(e.copy),e.filtersearch=angular.copy(e.filterProduct)):e.typeselected2&&e.typeselected2.length<1?e.filtersearch=angular.copy(e.filterProduct):e.typeselected3&&e.typeselected3.length<1?e.filtersearch=angular.copy(e.filterFamily):e.typeselected4&&e.typeselected4.length<1&&(e.filtersearch=angular.copy(e.filterLocation)),e.articles=r("filter")(e.filtersearch,{self:"articles"}),e.products=r("filter")(e.filtersearch,{self:"products"}),e.bundles=r("filter")(e.filtersearch,{self:"bundles"}),n.$broadcast("loading:finish")},e.toggleSelectedType=function(t,l){e.bundleTags=[];var i=[];e.filtersearch=[],n.$broadcast("loading:progress"),o(function(){c()},600);var c=function(){if(e.typeselected.indexOf(t)==-1?(t.sortindex=l,e.typeselected.push(t)):e.typeselected=a.filter(e.typeselected,function(e){return e.id!=t.id}),e.typeselected=a.sortBy(e.typeselected,["sortindex"]),i=p(e.typeselected),i&&i.length>0){var c=[];a.map(e.copy,function(t){a.each(t.tags,function(t){a.isEmpty(t.tags)||e.bundleTags.push(t)})});a.each(i,function(t){var l=[],i=[],r=[];l=a.filter(e.copy,{type:t.label}),i=a.filter(e.copy,{category_label:t.label}),r=a.filter(e.bundleTags,{tags:t.label}),l&&l.length>0&&a.each(l,function(t){var l=a.find(e.copy,{_id:t._id});a.isUndefined(l)||c.push(l)}),i&&i.length>0&&a.each(i,function(t){var l=a.find(e.copy,{_id:t._id});a.isUndefined(l)||c.push(l)}),r&&r.length>0&&a.each(r,function(t){var l=a.find(e.copy,{id:t.p_id});a.isUndefined(l)||c.push(l)})}),e.filterProduct=a.uniqBy(c,function(e){return e._id})}else e.filterProduct=angular.copy(e.copy);e.filtersearch=angular.copy(e.filterProduct),e.articles=r("filter")(e.filtersearch,{self:"articles"}),e.products=r("filter")(e.filtersearch,{self:"products"}),e.bundles=r("filter")(e.filtersearch,{self:"bundles"}),n.$broadcast("loading:finish"),a.isEmpty(e.filtersearch)&&o(function(){e.noresult="NO RESULT FOUND"},700)}}}angular.module("tessaApp").controller("searchCtrl",e),e.$inject=["$scope","APIFactory","$location","$stateParams","$filter","_","$state","$rootScope","$uibModal","$timeout","usSpinnerService","filterFilter"]}();
!function(){"use strict";function e(e,s,l,t,n,a){console.log("selected:",l),e.selected=l,e.images=e.selected.mediafiles,e.cancel=function(){s.dismiss("cancel")},e.viewDetails=function(e){"products"==e.self?(n.go("main.productDetailsHardware",{selected_id:e.id},{reload:!0}),s.dismiss("cancel")):(n.go("main.productDetailsSolution",{selected_id:e.pb_id},{reload:!0}),s.dismiss("cancel"))},e.openShareModal=function(){var s=t.open({animation:!0,templateUrl:"./views/share.modal.html",size:"md",windowClass:"share-modal",controller:"ShareModalInstanceCtrl",resolve:{article:function(){return e.selected},param:function(){return"articles"==e.selected.self?"article":"bundles"==e.selected.self?"bundle":"products"==e.selected.self?"product":void 0}}});s.result.then(function(s){e.selected=s},function(){console.info("Modal dismissed at: "+new Date)})}}angular.module("tessaApp").controller("searchDetailControl",e),e.$inject=["$scope","$uibModalInstance","search","$uibModal","$state","$sce"]}();
!function(){"use strict";function e(e,r,t,o,a,c,i,n,p,l){e.solutionTypes="EzeImpress",e.prodTypeLabel=a.isEmpty(p.get("label"))?"Solution":JSON.parse(p.get("label")),e.apply="",e.bundles=[],e.productDetails=[],e.productEach=[],e.hello=[],e.hardwareType=a.isEmpty(p.get("hardtype"))?"Screens":JSON.parse(p.get("hardtype"));var u=function(){r.getProductBundle(function(t){e.products=t.response.result;a.map(e.products,function(r){void 0!=r.product_bundle_category[0]&&e.bundles.push(r.product_bundle_category[0])});e.productEach=a.map(e.products,function(e){return e.products.length>0||(e.weekly=0),e.products});var c=a.flattenDeep(e.productEach),i=a.map(c,function(e){return e.product_detail});a.each(c,function(e){var r=a.find(i,{p_id:e.product_id});a.isUndefined(r)||(e.productType_id=r.productType_id,e.sell_price=r.sell_price,r.product_category.length>0&&(e.category_id=r.product_category[0].category_id))});var n=a.groupBy(c,"pb_id");a.map(n,function(r,t){var c=o("filter")(r,{productType_id:18}),i=o("filter")(r,{productType_id:17}),n=o("filter")(r,{productType_id:20});if(parseInt(t)==parseInt(t)){if(i.length>0&&(e.resulthardwaresum=a.sum(a.map(i,function(e){return e.sell_price}))),c.length>0&&(e.softwaresum=a.sum(a.map(c,function(e){return e.sell_price}))),n.length>0){var p=o("filter")(n,{category_id:87}),l=o("filter")(n,{category_id:90});p&&(e.deploymentservice=a.sum(a.map(p,function(e){return e.sell_price}))),l&&(e.supportservice=a.sum(a.map(l,function(e){return e.sell_price}))),e.servicesum=a.sum(a.map(n,function(e){return e.sell_price}))}void 0==e.deploymentservice&&void 0==e.supportservice?(e.deploymentservice=0,e.supportservice=0):(e.deploymentservice,e.supportservice);var u=e.deploymentservice+e.softwaresum+e.resulthardwaresum;e.weekly=12*(30.66*u/1e3+e.supportservice)/52}a.each(e.products,function(r){r.pb_id==parseInt(t)&&(r.weekly=e.weekly)})}),a.each(e.products,function(r){a.find(e.bundles,function(e){r.pb_id==e.bundle_id&&(r.category_label=e.category_label)})}),e.me="all",e.activateTab=function(r){e.me=r,e.solutionTypes=r},e.isCateg=function(r){return"all"==e.me||e.me==r.category_label},r.getProduct(function(r,t){e.allproducts=t.response.result,e.hardware=a.filter(e.allproducts,function(e){return"Hardware"===e.product_type}),e.prodCateg=[];for(var c=0;c<e.hardware.length;c++)for(var i=0;i<e.hardware[c].product_category.length;i++)e.prodCateg.push(e.hardware[c].product_category[i]);a.each(e.hardware,function(r){a.find(e.prodCateg,function(e){r.p_id==e.product_id&&(r.category_id=e.category_id)})}),e.Screens=[],e.MediaPlayer=[],e.Screens=o("filter")(e.hardware,{category_id:80}),e.MediaPlayer=o("filter")(e.hardware,{category_id:83})})})};l(function(){u()},300),e.activeProd=function(r){e.prodTypeLabel=r,p.set("label",JSON.stringify(e.prodTypeLabel))},e.activeHard=function(r){e.hardwareType=r,p.set("hardtype",JSON.stringify(e.hardwareType))},e.togglemodal=function(e){var r=c.open({animation:!0,templateUrl:"./views/share.modal.html",controller:"articleCtrl",size:"sm",resolve:{article:function(){return e}}});r.result.then(function(){i.reload()},function(){console.info("Modal dismissed")})}}angular.module("tessaApp").controller("productCtrl",e),e.$inject=["$scope","APIFactory","$location","$filter","_","$uibModal","$state","$rootScope","localStorageService","$timeout"]}();
!function(){"use strict";function e(e,t,r,o,a,s,c,i,n,d){e.allproduct=[],e.hardware_category=[],e.service_category=[],e.hardwarecategories=[],e.servicecategories=[],e.service=[],e.hardwares=[],e.softwares=[],e.relatedProductHardware=[],e.relatedProductSoftware=[],c.cartItems=[],c.cartItems=s.isEmpty(n.get("Cart"))?[]:JSON.parse(n.get("Cart")),t.getProduct(function(t,r){e.allproduct=r.response.result}),t.getCategory(function(t,r){e.allcategory=r.response.result}),o.selected_id&&(t.getDetailSolution(o.selected_id,function(t,r){200==r.statusCode&&r.response.success?(e.details=r.response.result,e.products=e.details.products,s.isEmpty(e.products)&&(e.details.upfront=0),e.productDetails=s.map(e.products,function(e){return e.product_detail}),e.services=a("filter")(e.productDetails,{productType_id:20}),e.hardware=a("filter")(e.productDetails,{productType_id:17}),console.log("$scope.hardware:",e.hardware),e.software=a("filter")(e.productDetails,{productType_id:18}),console.log("$scope.software:",e.software),e.softwarePrice=s.map(e.software,function(e){return e.sell_price}),s.map(e.software,function(t){void 0!=t.product_category[0]&&e.softwares.push(t.product_category[0])}),s.each(e.software,function(t){s.find(e.softwares,function(e){t.p_id==e.product_id&&(t.category_label=e.category_label)})}),s.map(e.hardware,function(t){void 0!=t.product_category[0]&&e.hardwares.push(t.product_category[0])}),s.each(e.hardware,function(t){s.find(e.hardwares,function(e){t.p_id==e.product_id&&(t.category_label=e.category_label)})}),s.map(e.services,function(t){void 0!==t.product_category[0]&&e.service.push(t.product_category[0])}),s.each(e.services,function(t){s.find(e.service,function(e){t.p_id==e.product_id&&(t.category_id=e.category_id)})}),e.deployment=a("filter")(e.services,{category_id:87}),e.support=a("filter")(e.services,{category_id:90}),e.hardwarePrice=s.map(e.hardware,function(e){return e.sell_price}),e.deploymentPrice=s.map(e.deployment,function(e){return e.sell_price}),e.upfront=s.sum(e.deploymentPrice)+s.sum(e.hardwarePrice)+s.sum(e.softwarePrice),e.weekly=30.66*e.upfront/1e3*12/52,e.supportPrice=s.map(e.support,function(e){return e.sell_price}),e.spPrice=s.sum(e.supportPrice),e.openModal=function(t){var r=i.open({animation:!0,templateUrl:"./views/productCatalogue.modal.html",size:"md",controller:"detailControl",backdrop:!0,windowClass:"xd-modal",backdropClass:"modal-backdrop fade in",resolve:{product:function(){return t}}});r.result.then(function(t){e.selected=t},function(){console.info("Modal dismissed at: "+new Date)})}):d.error(r.response.msg,"Error")}),t.getRelatedSolutions(o.selected_id,function(t,r){if(200==r.statusCode&&r.response.success){var o=r.response.result;s.each(o,function(t){"Hardware"==t.ref_product.product_type&&e.relatedProductHardware.push(t),"Software"==t.ref_product.product_type&&e.relatedProductSoftware.push(t)})}else d.error(r.response.msg,"Error")})),e.addToCart=function(t){if(0==e.upfront)d.error("Cannot add product when the values are 0","Error");else if(t.upfront=e.upfront,t.spPrice=e.spPrice,t.quantity=1,c.cartItems.length>=0){var r=s.filter(c.cartItems,{pb_id:t.pb_id});r.length>0?(r[0].quantity++,s.each(c.cartItems,function(e){e.pb_id==r[0].pb_id&&(e.quantity=r[0].quantity)}),d.success("Quantity Added","Success"),n.set("Cart",JSON.stringify(c.cartItems))):(d.success("Successfully Added","Success"),c.cartItems.push(t),n.set("Cart",JSON.stringify(c.cartItems)))}},e.openShareModal=function(){if(o.selected_id){var t=i.open({animation:!0,templateUrl:"./views/share.modal.html",size:"md",windowClass:"share-modal",controller:"ShareModalInstanceCtrl",resolve:{article:function(){return{bundle_name:e.details.bundle_name,product_images:e.details.product_images,bundle_description:e.details.bundle_description,products:e.details.products,upfront:e.upfront.toFixed(2),spPrice:e.spPrice.toFixed(2),opex:(36*e.upfront/1e3).toFixed(2),weekly:e.weekly.toFixed(2)}},param:function(){return"bundle"}}});t.result.then(function(){},function(){console.info("Modal dismissed at: "+new Date)})}}}function t(e,t,r){console.log("product:",r),e.selected=r,e.cancel=function(){t.dismiss("cancel")}}angular.module("tessaApp").controller("detailSolutionCtrl",e).controller("detailControl",t),e.$inject=["$scope","APIFactory","$location","$stateParams","$filter","_","$rootScope","$uibModal","localStorageService","toastr"],t.$inject=["$scope","$uibModalInstance","product"]}();
!function(){"use strict";function t(t,e,r,s,a,i,u,o,l,n,c){o.cartItems=[],t.attributevalues=[],t.SolutionPack=[],t.products=[],t.relatedProductHardware=[],t.relatedProductSoftware=[],o.cartItems=i.isEmpty(l.get("Cart"))?[]:JSON.parse(l.get("Cart")),s.selected_id&&(async.waterfall([function(r){e.getProductDetail(s.selected_id,function(e,s){200==s.statusCode&&s.response.success&&(t.productDetails=s.response.result,r(null,s.response.result))})},function(r,a){e.getProdCateg(s.selected_id,function(e,s){200==s.statusCode&&s.response.success&&(t.category=s.response.result,a(null,r,s.response.result))})},function(r,a,u){e.getProductBundle(function(e){200==e.statusCode&&e.response.success&&(u(null,r,a,e.response.result),i.each(e.response.result,function(e){i.each(e.products,function(r){r.product_id==s.selected_id&&(t.SolutionPack.push(e),console.log("$scope.SolutionPack:",t.SolutionPack))})}))})},function(r,i,u,o){e.getProductAttribute(s.selected_id,function(e,s){200==s.statusCode&&s.response.success&&(o(null,r,i,u,s.response.result),t.attributes=s.response.result,t.attributevalues=t.attributes.attribute_values,t.screensize=a("filter")(t.attributevalues,{attribute:"Screen Size"}),t.brightness=a("filter")(t.attributevalues,{attribute:"Brightness"}),t.resolution=a("filter")(t.attributevalues,{attribute:"Resolution"}),t.bezel=a("filter")(t.attributevalues,{attribute:"Bezel Size"}),t.displaytechno=a("filter")(t.attributevalues,{attribute:"Display Technology"}),t.weight=a("filter")(t.attributevalues,{attribute:"Weight"}),t.usage=a("filter")(t.attributevalues,{attribute:"Usage"}),t.dimensions=a("filter")(t.attributevalues,{attribute:"Dimensions"}),t.orientation=a("filter")(t.attributevalues,{attribute:"Orientation"}),t.displayinterface=a("filter")(t.attributevalues,{attribute:"Display Interface"}),t.processor=a("filter")(t.attributevalues,{attribute:"Processor"}),t.ram=a("filter")(t.attributevalues,{attribute:"RAM"}),t.storage=a("filter")(t.attributevalues,{attribute:"Storage"}),t.graphics=a("filter")(t.attributevalues,{attribute:"Graphics"}),t.maxresolution=a("filter")(t.attributevalues,{attribute:"Maximum Resolution"}))})}]),async.waterfall([function(r){e.getProduct(function(e,s){200==s.statusCode&&s.response.success&&(t.products=s.response.result,r(null,s.response.result))})},function(r,a){e.getRelatedProduct(s.selected_id,function(e,s){if(200==s.statusCode&&s.response.success){var a=s.response.result;i.each(a,function(e){i.each(r,function(t){t.p_id==e.main_id&&(e.img_default=t.img_default)}),"Hardware"==e.ref_product.product_type&&(t.relatedProductHardware.push(e),console.log("$scope.relatedProductHardware:",t.relatedProductHardware)),"Software"==e.ref_product.product_type&&t.relatedProductSoftware.push(e)})}else n.error(s.response.msg,"Error")})}])),t.addToCart=function(e){if(e.upfront=t.productDetails.sell_price,e.quantity=1,o.cartItems.length>=0){var r=i.filter(o.cartItems,{p_id:e.p_id});r.length>0?(r[0].quantity++,i.each(o.cartItems,function(t){t.p_id==r[0].p_id&&(t.quantity=r[0].quantity)}),n.success("Quantity Added","Success"),l.set("Cart",JSON.stringify(o.cartItems))):(n.success("Successfully Added","Success"),o.cartItems.push(e),l.set("Cart",JSON.stringify(o.cartItems)))}},t.openDetail=function(t){console.log("selected_id:",t),c.go("main.productDetailsHardware",{selected_id:t},{reload:!0})},t.openShareModal=function(){if(s.selected_id){var e=u.open({animation:!0,templateUrl:"./views/share.modal.html",size:"md",windowClass:"share-modal",controller:"ShareModalInstanceCtrl",resolve:{article:function(){return{item_name:t.productDetails.item_name,img_default:t.productDetails.img_default,item_description:t.productDetails.item_description,sell_price:t.productDetails.sell_price.toFixed(2)}},param:function(){return"product"}}});e.result.then(function(){},function(){console.info("Modal dismissed at: "+new Date)})}}}function e(t,e,r){t.selected=r,t.cancel=function(){e.dismiss("cancel")}}angular.module("tessaApp").controller("hardwareDetailsCtrl",t).controller("hardwareCtrl",e),t.$inject=["$scope","APIFactory","$location","$stateParams","$filter","_","$uibModal","$rootScope","localStorageService","toastr","$state"],e.$inject=["$scope","$uibModalInstance","product"]}();
!function(){"use strict";function e(e,t,i,a,c,n,l,r,s,d,o,u,f){var p=_.map(c,"tags"),h=_.flattenDeep(p);console.log("article:",a),e.result=[],e.relatedExperience=[],e.bundles=[],e.articlesList=[],_.each(a.tags,function(t){var i=_.filter(h,{tags:t.tags});e.result.push(i)});var g=_.flattenDeep(e.result);_.each(c,function(t){t.tags.length>=1&&e.articlesList.push(t),_.each(g,function(i){t.article_id==i.article_id&&e.relatedExperience.push(t)})}),e.articlesListFiltered=[],e.selected=a,e.selectedindex=n,e.ok=function(){t.close(e.selected.item)},e.cancel=function(){t.dismiss("cancel")},e.page=function(e){t.dismiss("cancel"),l.go("main.productDetailsSolution",{selected_id:e},{reload:!0})},e.previousArticle=function(){var t=[],i=[];0==e.selectedindex?e.selectedindex=0:--e.selectedindex,e.selected=e.articlesList[e.selectedindex];var a=_.map(e.articlesList,"tags"),c=_.flattenDeep(a);_.each(e.selected.tags,function(e){var i=_.filter(c,{tags:e.tags});t.push(i)});var n=_.flattenDeep(t);_.each(e.articlesList,function(e){_.each(n,function(t){e.article_id==t.article_id&&i.push(e)})}),i=_.uniq(i),e.relatedExperiences=_.filter(i,function(t){return e.selected.article_id!=t.article_id})},e.relatedExperience=_.uniq(e.relatedExperience),e.relatedExperiences=_.filter(e.relatedExperience,function(t){return e.selected.article_id!=t.article_id}),console.log("$scope.relatedExperiences:",e.relatedExperiences),e.nextArticle=function(){var t=[],i=[];e.selectedindex==e.articlesList.length-1?e.selectedindex=0:++e.selectedindex,e.selected=e.articlesList[e.selectedindex];var a=_.map(e.articlesList,"tags"),c=_.flattenDeep(a);_.each(e.selected.tags,function(e){var i=_.filter(c,{tags:e.tags});t.push(i)});var n=_.flattenDeep(t);_.each(e.articlesList,function(e){_.each(n,function(t){e.article_id==t.article_id&&i.push(e)})}),i=_.uniq(i),e.relatedExperiences=_.filter(i,function(t){return e.selected.article_id!=t.article_id})},f.getProductBundle(function(t){var i=t.response.result;_.each(e.selected.article_features,function(t){var a=_.find(i,{pb_id:t.bundle_id});e.bundles.push(a)})}),e.openShareModal=function(){var t=i.open({animation:!0,templateUrl:"./views/share.modal.html",size:"md",windowClass:"share-modal",controller:"ShareModalInstanceCtrl",resolve:{article:function(){return e.selected},param:function(){return"article"}}});t.result.then(function(){},function(){console.info("Modal dismissed at: "+new Date)})},e.select=function(t){var i=[],a=[];e.selected=t,u.hash("modal-xd"),o();var c=_.map(e.articlesList,"tags"),n=_.flattenDeep(c);_.each(e.selected.tags,function(e){var t=_.filter(n,{tags:e.tags});i.push(t)});var l=_.flattenDeep(i);_.each(e.articlesList,function(e){_.each(l,function(t){e.article_id==t.article_id&&a.push(e)})}),a=_.uniq(a),e.relatedExperiences=_.filter(a,function(t){return e.selected.article_id!=t.article_id})}}angular.module("tessaApp").controller("ModalInstanceCtrl",e),e.$inject=["$scope","$uibModalInstance","$uibModal","article","articlesList","articleindex","$state","sharerFactory","toastr","$window","$anchorScroll","$location","APIFactory"]}();
!function(){"use strict";function e(e,t,s,a,i,c,r,d){e.data={},e.data.from="support@engagis-tessa.com.au",e.date=new Date,e.param=a,e.selected={},"article"==a?(e.selected.title=s.title,s.mediafiles&&s.mediafiles.length>0?e.selected.mediafiles=s.mediafiles[0].media_path:e.selected.mediafiles="",e.selected.description=s.description):"bundle"==a?(e.selected.bundle_name=s.bundle_name,s.product_images&&s.product_images.length>0?e.selected.product_images=s.product_images[0].media_path:e.selected.product_images="",e.selected.bundle_description=s.bundle_description,e.selected.products=s.products,e.selected.others={upfront:s.upfront,spPrice:s.spPrice,opex:s.opex,weekly:s.weekly}):"product"==a?(e.selected.item_name=s.item_name,e.selected.img_default=s.img_default,e.selected.item_description=s.item_description,e.selected.sell_price=s.sell_price):"quote"==a&&(e.selected=s),e.spprice=_.sum(_.map(e.selected.quote_item_list,function(e){return e.spprices*e.quantity})),e.subtotal=_.sum(_.map(e.selected.quote_item_list,function(e){var t=e.price*e.quantity;return t})),e.subtotalOpex=_.sum(_.map(e.selected.quote_item_list,function(e){_.isUndefined(e.spprices)&&(e.spprices=0);var t=(30.66*e.price/1e3+e.spprices)*e.quantity;return t})),console.log("$scope.subtotalOpex:",e.subtotalOpex),e.send=function(){"article"==a?(e.data.subject="ENGAGIS-TESSA Articles",e.data.message=$("#printarticle").html()):"bundle"==a?(e.data.subject="ENGAGIS-TESSA Bundle",e.data.message=$("#printbundle").html()):"product"==a?(e.data.subject="ENGAGIS-TESSA Product",e.data.message=$("#printproduct").html()):"quote"==a&&(e.data.subject="ENGAGIS-TESSA Quotes",e.data.message=$("#printquote").html(),e.data.pdf=$("#printpdfquote").html(),e.data._id=e.selected._id),i.shareExperience(e.data,function(s,a){return 200==a.statusCode&&a.response.success?(c.success(a.response.msg,"Success"),e.data.email="",t.dismiss("cancel"),r.go(r.current,null,{reload:!0}),void 0):400===a.statusCode&&!a.response.success&&_.isArray(a.response.result)?void _.each(a.response.result,function(e){c.warning(e.msg,"Warning")}):void c.error(a.response.msg,"Error")}),t.dismiss("send")},e.cancel=function(){t.dismiss("cancel"),r.reload()}}angular.module("tessaApp").controller("ShareModalInstanceCtrl",e),e.$inject=["$scope","$uibModalInstance","article","param","sharerFactory","toastr","$state","localStorageService"]}();
!function(){"use strict";function t(t,e,i,a,o,n,s,c){function r(t){_.each(o.cartItems,function(e){e.pb_id==t.pb_id&&e.p_id==t.p_id&&(e.quantity=t.quantity)}),n.set("Cart",JSON.stringify(o.cartItems))}o.cartItems=[],o.user=[],t.details=[],t.quantity=1,t.customers=[],t.companies=[],t.countries=[],t.cart="items",t.radioModel,t.company={},t.detail={},t.detail.quote_date=new Date,o.cartItems=_.isEmpty(n.get("Cart"))?[]:JSON.parse(n.get("Cart")),t.details=o.cartItems;var u=_.map(t.details,function(t){return t.spPrice});t.spprice=_.sum(u),n.set("Products",JSON.stringify(t.details)),_.map(t.details,function(t){t.p_id&&(t.spPrice=0)}),t.proceed=function(){t.cart="payment"},t.back=function(){t.cart="items"},t.next=function(){t.cart="customer"},t.monthly=function(){return t.spprice=_.sum(_.map(t.details,function(t){return t.spPrice*t.quantity})),t.spprice},t.total=function(){return t.totals=0,_.forEach(t.details,function(e){t.totals+=e.upfront*e.quantity}),t.totals},t.detail.sub_total=t.total(),s.getCountries(function(e,i){200==i.statusCode&&i.response.success&&(t.countries=i.response.result)}),s.getAllPerson(function(e,i){t.customers=_.filter(i.response.result,function(t){return"Customer"==t.person_type})}),s.getCompany(function(e,i){t.companies=i.response.result}),t.getCompanyDetail=function(e){s.companyDetail(e.description.company_id,function(e,i){200==i.statusCode&&i.response.success&&(t.company=i.response.result)})},t.getCustomer=function(e){t.company.customer_id=e.originalObject.person_id,t.company.customer=e.originalObject},t.minusbutton=function(t){t.quantity<=1?(t.quantity=1,r(t)):(t.quantity--,r(t))},t.addbutton=function(t){t.quantity++,r(t)},t.reset=function(){_.each(o.cartItems,function(t){return o.cartItems.splice(o.cartItems,1)}),n.set("Cart",JSON.stringify(o.cartItems))},t.remove=function(t){var e=_.findIndex(o.cartItems,function(e){return e.pb_id==t.pb_id});o.cartItems.splice(e,1),n.set("Cart",JSON.stringify(o.cartItems))},t.cancel=function(){e.dismiss("cancel")},t.confirmation=function(){t.modal={title:"Archive Product?",message:"Are you sure to archive this selected products?"},c.openConfirm({templateUrl:"views/dialog.html",scope:t,className:"ngdialog-theme-default"}).then(function(){var c=JSON.parse(n.get("User")),r=new Date;t.detail.quoteproduct_list=[],_.each(o.cartItems,function(e){e.p_id?t.detail.quoteproduct_list.push({item_name:e.item_name,quantity:e.quantity,price:e.upfront,product_id:e.p_id,bundle_id:null,discount:0,total:0}):e.pb_id&&t.detail.quoteproduct_list.push({item_name:e.bundle_name,quantity:e.quantity,price:e.upfront,product_id:null,bundle_id:e.pb_id,discount:0,total:0})});var u=Math.floor(1e3*Math.random()+1);t.detail.quote_number="1000"+u,t.detail.quote_status="P",t.detail.staff_id=c.uc_id,t.detail.customer=t.company.customer,t.detail.other_fee=0,t.detail.tax=0,t.detail.tax=0,t.detail.total_fee=110,t.detail.valid_until=new Date,t.detail.valid_until=new Date(r.setDate(r.getDate()+30)),t.detail.bill_to_address=t.company.bill_address,t.detail.bill_to_city=t.company.bill_city,t.detail.bill_to_country=t.company.bill_country,t.detail.bill_to_state=t.company.bill_state,t.detail.bill_to_zipcode=t.company.bill_zipcode,t.detail.comments=t.company.comments,t.detail.customer_id=t.company.customer_id,t.detail.ship_to_address=t.company.ship_address,t.detail.ship_to_city=t.company.ship_city,t.detail.ship_to_country=t.company.ship_country,t.detail.ship_to_state=t.company.ship_state,t.detail.ship_to_zipcode=t.company.ship_zipcode,t.detail.ship_to=t.company.customer_id,t.detail.bill_to_name=t.company.bill_name,t.detail.ship_to_name=t.company.ship_name,s.saveQuote(t.detail,function(t,s){200==s.statusCode&&s.response.success&&(_.isEmpty(o.cartItems)||n.remove("Cart"),e.close(),a(function(){i.go("main.quoteProfile",{quote_id:s.response.result},{reload:!0})},300))}),n.set("Company",JSON.stringify(t.company)),n.remove("Customer"),n.remove("Payment"),n.remove("Cart")},function(t){console.log("Modal promise close: ")})}}angular.module("tessaApp").controller("CartCtrl",t),t.$inject=["$scope","$uibModalInstance","$state","$timeout","$rootScope","localStorageService","APIFactory","ngDialog"]}();
!function(){"use strict";function t(t,e,s,i,o,r,a,n,u,c){o.user=_.isEmpty(r.get("User"))?[]:JSON.parse(r.get("User")),t.products=_.isEmpty(r.get("Products"))?[]:JSON.parse(r.get("Products")),t.company=_.isEmpty(r.get("Company"))?[]:JSON.parse(r.get("Company")),t.companyname=o.user.company_name,t.details={},t.radioModel="Capex",n.getQuoteDetail(u.quote_id,function(e,s){200==s.statusCode&&s.response.success&&(t.details=s.response.result,t.details.type=t.radioModel,t.details.customer=t.details.bill_qoute_info,t.details.date_created=moment(t.details.date_created).format("YYYY-MM-DD"),t.details.valid_until=moment(t.details.valid_until).format("YYYY-MM-DD"),n.getProductBundle(function(e){t.result=[],200==e.statusCode&e.response.success&&(_.each(t.details.quote_item_list,function(t){_.find(e.response.result,function(e){t.bundle_id==e.pb_id&&(_.each(e.products,function(t){t.category_id=t.product_detail.product_category[0].category_id,t.sell_price=t.product_detail.sell_price}),t.products=e.products)})}),t.items=_.map(t.details.quote_item_list,function(e){return e.products&&_.each(e.products,function(e){t.result.push(e)}),_.each(t.products,function(t){e.bundle_id==t.pb_id&&(e.spprices=t.spPrice)}),e.product_id?e:e}),t.totalupfront=_.sum(_.map(t.items,function(t){return t.price*t.quantity})),t.totalupfrontopex=_.sum(_.map(t.items,function(t){return t.price})),t.opexquantity=_.sum(_.map(t.items,function(t){return t.quantity})),t.subtotalOpex=_.sum(_.map(t.items,function(t){_.isUndefined(t.spprices)&&(t.spprices=0);var e=(30.66*t.price/1e3+t.spprices)*t.quantity;return e})),t.spprice=_.sum(_.map(t.items,function(t){return t.spprices*t.quantity})))}))}),t.newvalue=function(){t.details.type=t.radioModel},t.printQoute=function(t){i.print()},t.openShareModal=function(){a.open({animation:!0,templateUrl:"./views/share.modal.html",size:"md",windowClass:"share-modal",controller:"ShareModalInstanceCtrl",resolve:{article:function(){return t.details},param:function(){return"quote"}}})}}angular.module("tessaApp").controller("QuoteCtrl",t),t.$inject=["$scope","sharerFactory","toastr","$window","$rootScope","localStorageService","$uibModal","APIFactory","$stateParams","$filter"]}();
!function(){"use strict";function e(e,t,a,n,r,o,c,l,i,s,u){t.seemore=!0,t.date=new Date,t.msg="hello",t.shows=!1,t.value="",c.cartItems=r.isEmpty(s.get("Cart"))?[]:JSON.parse(s.get("Cart")),c.user=r.isEmpty(s.get("User"))?[]:JSON.parse(s.get("User")),t.seemore=!t.custom,t.searchinput=u.value,angular.element(document).ready(function(){$("#trigger-sidebar").click(function(){function e(){var e=$(window).width();e<700?$("#myBar, .acc-menu li a").css({"min-width":"0"}):e>700&&$("#myBar, .acc-menu li a").css({"min-width":"56px"})}$(".collapsible").toggle(),$(".collapsible").is(":visible")?$("#myBar, .acc-menu li a").css({"min-width":"245px"}):(e(),$(window).resize(e))}),$("#trigger-close-search, #srch-pop, .exit").click(function(){$("#toolbar-search").hide()}),$("#trigger-toolbar-search,#srch-pop").click(function(){$("#toolbar-search").show()}),$(document).on("click",".btn-checkbox",function(e){e.stopPropagation(),$(this).toggleClass("btn-checkbox-active")})}),async.waterfall([function(e){a.getArticles(function(t){r.each(t.response.result,function(e){e.type="Experience"}),r.each(t.response.result,function(e){e.name=e.title,e.id=e.article_id}),e(null,t.response.result)})},function(e,t){a.getProductBundle(function(a){r.each(a.response.result,function(e){e.type="Solutions"}),r.each(a.response.result,function(e){e.name=e.bundle_name,e.id=e.pb_id}),t(null,a.response.result,e)})},function(e,t,n){var o=[];a.getProduct(function(a,c){o=r.filter(c.response.result,function(e){return"Hardware"==e.product_type}),r.each(o,function(e){e.type="Hardware"}),r.each(o,function(e){e.name=e.item_name,e.id=e.p_id}),n(null,o,e,t)})},function(e,a,n,o){var c=[];r.each(e,function(e){1==e.is_published&&0==e.is_archived&&c.push(e)}),r.each(a,function(e){1==e.is_published&&0==e.is_archived&&c.push(e)}),r.each(n,function(e){1==e.is_active&&c.push(e)}),t.allproducts=c}]),t.signout=function(){s.remove("User"),s.remove("Cart"),s.remove("label"),s.remove("hardtype"),s.remove("Payment"),o.go("login")},t.dynamicPopover={templateUrl:"myPopoverTemplate.html"},t.clear=function(e){e?$("#searchBar").val($("#searchBar").val().slice(0,-1)):$("#searchBar").val("")},t.resetCart=function(){for(var e=t.customers.length;e--;){var a=t.customers[e];"expired"==a.status&&t.customers.splice(e,1)}},t.refreshDelay=function(e){t.search=e,t.allSearch=[],angular.isUndefined(e)||null==e||""==e?t.allSearch=[]:a.getAll(e).then(function(a){if(200==a.statusCode&&a.response.success){r.each(a.response.result.values,function(e){return"Services"==e.type?null:void t.allSearch.push(e)}),r.each(t.allSearch,function(e){"articles"==e.self&&(e.group="Experience"),"bundles"==e.self&&(e.group="Solutions"),"products"==e.self&&(e.group="Hardware")});var n=t.allSearch.slice();return e&&n.indexOf(e)===-1&&n.unshift(e),n}})},t.cartModal=function(){var e=i.open({animation:!0,templateUrl:"./views/cart.modal.html",size:"md",controller:"CartCtrl",windowClass:"xd-modal"});e.result.then(function(e){t.selected=e},function(){console.info("Modal dismissed at: "+new Date),s.remove("Payment")})},t.inputProductChanged=function(e){t.searchinput=e},t.dataSelected=function(e){e&&(o.go("main.search",{value:e.originalObject},{reload:!1}),e.originalObject&&o.go("main.search",{value:e.originalObject},{reload:!1}),e.title&&o.go("main.search",{value:e.title},{reload:!1}))},t.clearInput=function(e){e?t.$broadcast("angucomplete-alt:clearInput",e):t.$broadcast("angucomplete-alt:clearInput")}}function t(e,t,a,n){e.product=function(){console.log("product():"),n.remove("label"),n.remove("hardtype"),a.go("main.productCatalogue")}}angular.module("tessaApp").controller("headerCtrl",e).controller("sidebarCtrl",t),e.$inject=["$http","$scope","APIFactory","$location","_","$state","$rootScope","$filter","$uibModal","localStorageService","$stateParams"],t.$inject=["$scope","$location","$state","localStorageService"]}();
!function(){"use strict";var n=function(n){return function(t,r){return n.uniqBy(t,function(n){return n[r]})}},t=function(){return function(n,t){for(var r="test",u=0;u<n.length;u++);return r}};angular.module("tessaApp").filter("duplicates",["_",n]).filter("count",[t])}();
!function(){"use strict";angular.module("tessaApp").directive("errSrc",function(){return{transclude:!0,link:function(n,e,r){n.$watch(function(){return r.ngSrc},function(n){n||e.attr("src",r.errSrc)}),e.bind("error",function(){e.attr("src",r.errSrc)})}}}).directive("ngPrint",function(){function n(n,t,i){t.on("click",function(){var n=document.getElementById(i.printElementId);n&&e(n)}),window.onafterprint=function(){r.innerHTML=""}}function e(n){var e=n.cloneNode(!0);r.innerHTML="",r.appendChild(e),window.print()}var r=document.getElementById("printSection");return r||(r=document.createElement("div"),r.id="printSection",document.body.appendChild(r)),{link:n,restrict:"A"}}).directive("appHeader",function(){return{restrict:"AE",replace:!0,templateUrl:"./views/header.html",controller:"headerCtrl"}}).directive("imageonload",function(){return{restrict:"AE",link:function(n,e,r){e.on("load",function(){e.removeClass("spinner-hide"),e.addClass("spinner-show"),e.parent().find("span").remove()}),n.$watch("ngSrc",function(){e.addClass("spinner-hide")})}}})}();
!function(){"use strict";function n(n,t,u,l,o){var c={};return c.articleItems=[],c.allitems=[],c.getArticles=function(n){o.all("articleinfo").customGET().then(function(t){n(t)})},c.getProductBundle=function(n){o.all("product-bundle").customGET().then(function(t){n(t)})},c.getAllTags=function(n){o.all("tags").customGET().then(function(t){n(t)})},c.getDetailSolution=function(n,t){o.all("product-bundle/"+n).customGET().then(function(n){t(null,n)},function(n){t(n,null)})},c.getProductDetail=function(n,t){o.all("product/"+n).customGET().then(function(n){t(null,n)},function(n){t(n,null)})},c.getProduct=function(n){o.all("product").customGET().then(function(t){n(null,t)},function(t){n(t,null)})},c.searchProduct=function(n,u){var l=t.filter(c.allitems,function(t){var u=new RegExp(n,"ig");return t.item_name.match(u)});u(l)},c.getHardware=function(n,u){o.all("product").customGET().then(function(l){u(t.filter(l),{productType_id:n})})},c.getCategory=function(n){o.all("categories").customGET().then(function(t){n(null,t)},function(t){n(t,null)})},c.getProductType=function(n){o.all("producttype").customGET().then(function(t){n(null,t)},function(t){n(t,null)})},c.getAll=function(n){return o.all("filters").customGET("",{filter:"all",value:n}).then(function(n){return n},function(n){return n.data})},c.getAllPerson=function(n){o.all("persons").customGET().then(function(t){n(null,t)},function(t){n(t,null)})},c.personDetail=function(n,t){o.all("persons/"+n).customGET().then(function(n){t(null,n)},function(n){t(n,null)})},c.getProductAttribute=function(n,t){o.all("product/"+n+"/attributes").customGET().then(function(n){t(null,n)},function(n){t(n,null)})},c.saveCompany=function(n,t){o.all("companyinfo").customPOST(n).then(function(n){t(null,n)},function(n){t(n,null)})},c.getCompany=function(n){o.all("companyinfo").customGET().then(function(t){n(null,t)},function(t){n(t,null)})},c.companyDetail=function(n,t){o.all("companyinfo/"+n).customGET().then(function(n){t(null,n)},function(n){t(n,null)})},c.saveQuote=function(n,t){o.all("quoteinfo/").customPOST(n).then(function(n){t(null,n)},function(n){t(n,null)})},c.getQuoteDetail=function(n,t){o.all("quoteinfo/"+n).customGET().then(function(n){t(null,n)},function(n){t(n,null)})},c.getCountries=function(n){o.all("countries").customGET().then(function(t){n(null,t)},function(t){n(t,null)})},c.getProdCateg=function(n,t){o.all("product/"+n+"/category").customGET().then(function(n){t(null,n)},function(n){t(n,null)})},c.getRelatedProduct=function(n,t){o.all("product/"+n+"/related").customGET().then(function(n){t(null,n)},function(n){t(n,null)})},c.getRelatedSolutions=function(n,t){o.all("product-bundle/"+n+"/related").customGET().then(function(n){t(null,n)},function(n){t(n,null)})},c}angular.module("tessaApp").factory("APIFactory",n),n.$inject=["$http","_","API_URL","API_VERSION","Restangular"]}();
!function(){"use strict";function t(t,n,r,e,o){return{authenticateAccount:function(t){return o.all("session").customPOST(t).then(function(t){return t},function(t){return t.data})}}}function n(t,n,r,e){return{request:function(t){return t.headers=t.headers||{},t.headers.accesskey="jeJMH2vWAQocOrat0bu1yqLJg1X0xdYZ",t},response:function(t){return t},responseError:function(n){return 401===n.status&&(t.$broadcast("unauthorized"),r.path("/login")),n}}}function r(t,n){var r=0;return{request:function(e){return 1===++r&&n.$broadcast("loading:progress"),e||t.when(e)},response:function(e){return 0===--r&&n.$broadcast("loading:finish"),e||t.when(e)},responseError:function(e){return 0===--r&&n.$broadcast("loading:finish"),t.reject(e)}}}angular.module("tessaApp").factory("authInterceptor",n).factory("AuthFactory",t).factory("httpInterceptor",r),n.$inject=["$rootScope","$q","$location","$injector"],t.$inject=["$http","_","API_URL","API_VERSION","Restangular"],r.$inject=["$q","$rootScope"]}();
!function(){"use strict";function n(n,t,u,o,a){return{shareExperience:function(n,t){a.all("sharer").customPOST(n).then(function(n){t(null,n)},function(n){t(n.data,null)})},htmltoPDF:function(n,t){a.all("htmltopdf").customPOST(n).then(function(n){t(null,n)},function(n){t(n.data,null)})}}}angular.module("tessaApp").factory("sharerFactory",n).factory("_",["$window",function(n){return n._}]),n.$inject=["$http","_","API_URL","API_VERSION","Restangular"]}();