!function(){"use strict";angular.module("tessaApp",["ui.router","restangular","ngSanitize","ui.bootstrap","ui.select","ngTouch","ngAnimate"]).constant("API_URL","http://52.64.27.145:5001").constant("API_VERSION","/api/1.0/").config(["$stateProvider","$httpProvider","RestangularProvider","$urlRouterProvider","API_URL","API_VERSION","$provide",function(e,t,r,o,l,a,n){t.interceptors.push("authInterceptor"),n.value("baseURL",l),r.setBaseUrl(l+a),e.state("main",{url:"/main",templateUrl:"views/header.html",controller:"MainCtrl"}).state("main.experience",{url:"/experience",templateUrl:"views/experience.html"}).state("login",{url:"/login",templateUrl:"views/login.html",controller:"loginCtrl"}).state("priceBook",{url:"/priceBook",templateUrl:"views/priceBook.html"}).state("main.productCatalogue",{url:"/productCatalogue?value&value2",templateUrl:"views/productCatalogue.html",controller:"productCtrl"}).state("main.search",{url:"/search?value",templateUrl:"views/search.html",controller:"searchCtrl"}).state("main.productDetailsSolution",{url:"/productCatalogue/productDetailsSolution/:selected_id",templateUrl:"views/productDetailsSolution.html",controller:"detailSolutionCtrl"}).state("main.productDetailsHardware",{url:"/productCatalogue/productDetailsHardware/:selected_id",templateUrl:"views/productDetailsHardware.html",controller:"hardwareDetailsCtrl"}),o.otherwise("/login")}]).run(["$location","APIFactory","$rootScope","$window","$state",function(e,t,r,o,l){r._=window._,r.allproducts=[],async.waterfall([function(e){t.getArticles(function(t){_.each(t.response.result,function(e){e.type="Experience"}),_.each(t.response.result,function(e){e.name=e.title,e.id=e.article_id}),e(null,t.response.result)})},function(e,r){t.getProductBundle(function(t){_.each(t.response.result,function(e){e.type="Solutions"}),_.each(t.response.result,function(e){e.name=e.bundle_name,e.id=e.pb_id}),r(null,t.response.result,e)})},function(e,r,o){var l=[];t.getProduct(function(t,a){l=_.filter(a.response.result,function(e){return"Hardware"==e.product_type}),_.each(l,function(e){e.type="Hardware"}),_.each(l,function(e){e.name=e.item_name,e.id=e.p_id}),o(null,l,e,r)})},function(e,t,o,l){var a=[];_.each(e,function(e){1==e.is_published&&a.push(e)}),_.each(t,function(e){1==e.is_published&&a.push(e)}),_.each(o,function(e){1==e.is_active&&a.push(e)}),r.allproducts=a}]),r.$on("$stateChangeSuccess",function(e,t,o,a,n){e.preventDefault(),console.log("fromParams:",n),console.log("fromParams:",n.value),console.log("fromParams:",n.value2),r.goBack=function(){l.go("main.productCatalogue",{value:n.value,value2:n.value2},{reload:!1})}})}]).factory("_",["$window",function(e){return e._}])}();
!function(){"use strict";function e(e,t,a,s,n,l,c,r,o){t.msg="hello",t.allSearch=[],t.clear=function(e){e?$("#searchBar").val($("#searchBar").val().slice(0,-1)):$("#searchBar").val("")},t.seachValue=function(e){console.log("$scope.search:",t.search),e?l.go("main.search",{value:e},{reload:!0}):l.go("main.search",{value:t.search},{reload:!0})},t.refreshDelay=function(e){t.search=e,t.allSearch=[],angular.isUndefined(e)||null==e||""==e?t.allSearch=[]:a.getAll(e).then(function(e){console.log("value:",e.response),200==e.statusCode&&e.response.success&&(n.each(e.response.result.values,function(e){return"Services"==e.type?null:void t.allSearch.push(e)}),n.each(t.allSearch,function(e){"articles"==e.self&&(e.group="Experience"),"bundles"==e.self&&(e.group="Solutions"),"products"==e.self&&(e.group="Hardware")})),console.log("$scope.allSearch:",t.allSearch)})},t.keysearch=function(){console.log("$scope.search:",t.search)},t.isActive=function(e){return e===s.path()},t.openArticle=function(e,a,s){console.log("index: ",s);var n=o.open({animation:!0,templateUrl:"/views/article.modal.html",size:"lg",controller:"ModalInstanceCtrl",backdrop:!0,windowClass:"xd-modal",backdropClass:"modal-backdrop fade in",resolve:{article:function(){return e},articlesList:function(){return a},articleindex:function(){return s}}});n.result.then(function(e){t.selected=e},function(){console.info("Modal dismissed at: "+new Date)})},a.getArticles(function(e){t.articlesList=[],t.tags=[],t.items=[],t.lists=[],t.articlesList=e.response.result,n.each(e.response.result,function(e){e.type="Experience"}),n.each(e.response.result,function(e){e.name=e.title}),t.selectedTag=[];for(var a=0;a<t.articlesList.length;a++)for(var s=0;s<t.articlesList[s].tags.length;s++)t.articlesList[a].tags[s]&&t.tags.push(t.articlesList[a].tags[s])}),t.tagselected=[],t.toggleSelectedTag=function(e){t.tagselected.indexOf(e)==-1?t.tagselected.push(e):t.tagselected=n.pull(t.tagselected,e)},t.isTagSelected=function(e){return t.tagselected.indexOf(e)!==-1},t.isOnSelectedTag=function(){return function(e){if(0==t.tagselected.length)return!0;var a=!1,s=n.map(t.tagselected,"tags_id");return n.forEach(e.tags,function(e){s.indexOf(e.tags_id)!==-1&&(a=!0)}),a}},t.someGroupFn=function(e){n.each(t.productType,function(t){if(e.product_type==t.name)return t.name})}}angular.module("tessaApp").controller("MainCtrl",["$http","$scope","APIFactory","$location","_","$state","$rootScope","$filter","$uibModal",e])}();
!function(){"use strict";var o=function(o,t,e,n,c,r,s){console.log("loginCtrl"),o.login=function(){t.authenticateAccount(o.user).then(function(t){t.success?s.go("main.experience"):(o.err="Account does not exist",console.log("$scope.err:",o.err))})}};angular.module("tessaApp").controller("loginCtrl",["$scope","AuthFactory","$location","$stateParams","$filter","_","$state",o])}();
!function(){"use strict";var e=function(e,l,c,s,t,a,r,o){e.DisplayTab="All",e.searchresults={},e.allproducts=o.allproducts,console.log("$scope.allproducts:",e.allproducts),e.searchkeyword=s.searchkeyword,e.activeTab=function(l){e.DisplayTab=l},e.detail=function(l,c){console.log("value:",l),e.selected=l},l.getAll(s.value).then(function(l){200==l.statusCode&&l.response.success&&(e.SelectedSearch=[],a.each(l.response.result.values,function(l){return"Services"==l.type?null:void e.SelectedSearch.push(l)}),a.each(e.SelectedSearch,function(l){a.find(e.allproducts,function(e){l.id==e.id&&(l.img_default=e.img_default,l.mediafiles=e.mediafiles,l.product_images=e.product_images,l.is_published=e.is_published,l.is_active=e.is_active)})}),console.log("$scope.SelectedSearch:",e.SelectedSearch)),e.articles=t("filter")(e.SelectedSearch,{self:"articles"}),console.log("$scope.articles:",e.articles),e.products=t("filter")(e.SelectedSearch,{self:"products",type:"Hardware"}),e.bundles=t("filter")(e.SelectedSearch,{self:"bundles"})})};angular.module("tessaApp").controller("searchCtrl",["$scope","APIFactory","$location","$stateParams","$filter","_","$state","$rootScope",e])}();
!function(){"use strict";function e(e,r,t,o,a,n,i){e.solutionTypes="EzeImpress",e.prodType="Solution",i.transitionTo("main.productCatalogue",{value:e.prodType},{notify:!1}),e.apply="",e.bundles=[],e.productDetails=[],e.productEach=[],e.hello=[],e.hardwareType="Screens",r.getProductBundle(function(t){e.products=t.response.result;a.map(e.products,function(r){void 0!=r.product_bundle_category[0]&&e.bundles.push(r.product_bundle_category[0])});e.productEach=a.map(e.products,function(e){return e.products});var n=a.flattenDeep(e.productEach),c=a.map(n,function(e){return e.product_detail});a.each(n,function(e){a.find(c,function(r){e.product_id==r.p_id&&(e.productType_id=r.productType_id,e.sell_price=r.sell_price,e.category_id=r.product_category[0].category_id)})});var u=a.groupBy(n,"pb_id");a.map(u,function(r,t){var n=o("filter")(r,{productType_id:18}),i=o("filter")(r,{productType_id:17}),c=o("filter")(r,{productType_id:20});if(parseInt(t)==parseInt(t)){if(i.length>0&&(e.resulthardwaresum=a.sum(a.map(i,function(e){return e.sell_price}))),n.length>0&&(e.softwaresum=a.sum(a.map(n,function(e){return e.sell_price}))),c.length>0){var u=o("filter")(c,{category_id:87}),p=o("filter")(c,{category_id:90});u&&(e.deploymentservice=a.sum(a.map(u,function(e){return e.sell_price}))),p&&(e.supportservice=a.sum(a.map(p,function(e){return e.sell_price}))),e.servicesum=a.sum(a.map(c,function(e){return e.sell_price}))}void 0==e.deploymentservice&&void 0==e.supportservice?(e.deploymentservice=0,e.supportservice=0):(e.deploymentservice,e.supportservice);var l=e.deploymentservice+e.softwaresum+e.resulthardwaresum;e.weekly=36*l/1e3*12/52}a.each(e.products,function(r){r.pb_id==parseInt(t)&&(r.weekly=e.weekly)})}),e.bundle=a.uniqBy(e.bundles,function(e){return e.category_label}),a.each(e.products,function(r){a.find(e.bundles,function(e){r.pb_id==e.bundle_id&&(r.category_label=e.category_label)})}),e.me="all",e.activateTab=function(r){e.me=r,console.log("name:",r),i.transitionTo("main.productCatalogue",{value:e.prodType,value2:r},{notify:!1})},e.isCateg=function(r){return"all"==e.me||e.me==r.category_label},r.getProduct(function(r,t){e.allproducts=t.response.result,e.hardware=a.filter(e.allproducts,function(e){return"Hardware"===e.product_type}),e.prodCateg=[];for(var n=0;n<e.hardware.length;n++)for(var i=0;i<e.hardware[n].product_category.length;i++)e.prodCateg.push(e.hardware[n].product_category[i]);a.each(e.hardware,function(r){a.find(e.prodCateg,function(e){r.p_id==e.product_id&&(r.category_id=e.category_id)})}),e.Screens=[],e.MediaPlayer=[],e.Screens=o("filter")(e.hardware,{category_id:80}),e.MediaPlayer=o("filter")(e.hardware,{category_id:83})})}),e.activeProd=function(r){e.prodType=r,console.log("$scope.prodType:",e.prodType),i.transitionTo("main.productCatalogue",{value:e.prodType},{notify:!1})},e.activeHard=function(r){e.hardwareType=r,i.transitionTo("main.productCatalogue",{value:e.prodType,value2:e.hardwareType},{notify:!1})},e.togglemodal=function(e){var r=n.open({animation:!0,templateUrl:"app/views/share.modal.html",controller:"articleCtrl",size:"sm",resolve:{article:function(){return e}}});r.result.then(function(){i.reload()},function(){console.info("Modal dismissed")})}}angular.module("tessaApp").controller("productCtrl",["$scope","APIFactory","$location","$filter","_","$uibModal","$state",e])}();
!function(){"use strict";var e=function(e,r,o,t,c,s,a){console.log("detailSolutionCtrl"),e.allproduct=[],e.hardware_category=[],e.service_category=[],e.hardwarecategories=[],e.servicecategories=[],e.service=[],e.hardwares=[],e.softwares=[],r.getProduct(function(r,o){e.allproduct=o.response.result}),r.getCategory(function(r,o){e.allcategory=o.response.result}),t.selected_id&&r.getDetailSolution(t.selected_id,function(r,o){200==o.statusCode&&o.response.success&&(e.details=o.response.result,console.log("$scope.details",e.details),e.products=e.details.products,e.productDetails=s.map(e.products,function(e){return e.product_detail}),e.services=c("filter")(e.productDetails,{productType_id:20}),e.hardware=c("filter")(e.productDetails,{productType_id:17}),e.software=c("filter")(e.productDetails,{productType_id:18}),e.softwarePrice=s.map(e.software,function(e){return e.sell_price}),s.map(e.software,function(r){void 0!=r.product_category[0]&&e.softwares.push(r.product_category[0])}),s.each(e.software,function(r){s.find(e.softwares,function(e){r.p_id==e.product_id&&(r.category_label=e.category_label)})}),console.log("$scope.software:",e.software),s.map(e.hardware,function(r){void 0!=r.product_category[0]&&e.hardwares.push(r.product_category[0])}),console.log("hardware",e.hardware),s.each(e.hardware,function(r){s.find(e.hardwares,function(e){r.p_id==e.product_id&&(r.category_label=e.category_label)})}),s.map(e.services,function(r){void 0!==r.product_category[0]&&e.service.push(r.product_category[0])}),s.each(e.services,function(r){s.find(e.service,function(e){r.p_id==e.product_id&&(r.category_id=e.category_id)})}),e.deployment=c("filter")(e.services,{category_id:87}),e.support=c("filter")(e.services,{category_id:90}),console.log("$scope.deployment",e.deployment),console.log("$scope.support",e.support),e.hardwarePrice=s.map(e.hardware,function(e){return e.sell_price}),e.deploymentPrice=s.map(e.deployment,function(e){return e.sell_price}),e.upfront=s.sum(e.deploymentPrice)+s.sum(e.hardwarePrice)+s.sum(e.softwarePrice),console.log("UPFRONT",e.upfront),e.weekly=36*e.upfront/1e3*12/52,e.supportPrice=s.map(e.support,function(e){return e.sell_price}),e.spPrice=s.sum(e.supportPrice),console.log("supportPrice",e.spPrice),e.openModal=function(r){e.selected=r,console.log(e.selected,"selected")})})};angular.module("tessaApp").controller("detailSolutionCtrl",["$scope","APIFactory","$location","$stateParams","$filter","_","$rootScope",e])}();
!function(){"use strict";var e=function(e,t,s,o,l,a){console.log("hardwareDetailsCtrl"),o.selected_id&&t.getProductDetail(o.selected_id,function(t,s){200==s.statusCode&&s.response.success&&(e.productDetails=s.response.result),console.log("Details",e.productDetails)})};angular.module("tessaApp").controller("hardwareDetailsCtrl",["$scope","APIFactory","$location","$stateParams","$filter","_",e])}();
!function(){"use strict";function e(e,t,n,l,c,i){e.articlesListFiltered=[],e.articlesList=c,e.selected=l,e.selectedindex=i,e.ok=function(){t.close(e.selected.item)},e.cancel=function(){t.dismiss("cancel")},e.previousArticle=function(){0==e.selectedindex?e.selectedindex=0:--e.selectedindex,e.selected=e.articlesList[e.selectedindex]},e.nextArticle=function(){e.selectedindex==e.articlesList.length-1?e.selectedindex=0:++e.selectedindex,e.selected=e.articlesList[e.selectedindex]},e.openShareModal=function(){var t=n.open({animation:!0,templateUrl:"/views/share.modal.html",size:"md",windowClass:"share-modal",controller:"ShareModalInstanceCtrl"});t.result.then(function(t){e.selected=t},function(){console.info("Modal dismissed at: "+new Date)})}}function t(e,t){e.ok=function(){t.close(e.selected.item)},e.cancel=function(){t.dismiss("cancel")}}angular.module("tessaApp").controller("ModalInstanceCtrl",["$scope","$uibModalInstance","$uibModal","article","articlesList","articleindex",e]).controller("ShareModalInstanceCtrl",["$scope","$uibModalInstance",t])}();
!function(){"use strict";var t=function(t,n,u,l,c){var o={};return o.articleItems=[],o.allitems=[],o.getArticles=function(t){c.all("articleinfo").customGET().then(function(n){t(n)})},o.getProductBundle=function(t){c.all("product-bundle").customGET().then(function(n){t(n)})},o.getAllTags=function(t){c.all("tags").customGET().then(function(n){t(n)})},o.getDetailSolution=function(t,n){c.all("product-bundle/"+t).customGET().then(function(t){n(null,t)},function(t){n(t,null)})},o.getProductDetail=function(t,n){c.all("product/"+t).customGET().then(function(t){n(null,t)},function(t){n(t,null)})},o.getProduct=function(t){c.all("product").customGET().then(function(n){t(null,n)},function(n){t(n,null)})},o.searchProduct=function(t,u){var l=n.filter(o.allitems,function(n){var u=new RegExp(t,"ig");return n.item_name.match(u)});u(l)},o.getHardware=function(t,u){c.all("product").customGET().then(function(l){u(n.filter(l),{productType_id:t})})},o.getCategory=function(t){c.all("categories").customGET().then(function(n){t(null,n)},function(n){t(n,null)})},o.getProductType=function(t){c.all("producttype").customGET().then(function(n){t(null,n)},function(n){t(n,null)})},o.getAll=function(t){return c.all("filters").customGET("",{filter:"all",value:t}).then(function(t){return t},function(t){return t.data})},o};angular.module("tessaApp").factory("APIFactory",["$http","_","API_URL","API_VERSION","Restangular",t])}();
!function(){"use strict";var n=function(n){return function(t,u){return n.uniqBy(t,function(n){return n[u]})}};angular.module("tessaApp").filter("duplicates",["_",n])}();
!function(){"use strict";angular.module("tessaApp").directive("errSrc",function(){return{link:function(r,n,t){r.$watch(function(){return t.ngSrc},function(r){r||n.attr("src",t.errSrc)}),n.bind("error",function(){n.attr("src",t.errSrc)})}}})}();
!function(){"use strict";function t(t,n,e,r,u){return{authenticateAccount:function(t){return u.all("session").customPOST(t).then(function(t){return t},function(t){return t.data})}}}function n(t,n,e,r){return{request:function(t){return t.headers=t.headers||{},t.headers.accesskey="jeJMH2vWAQocOrat0bu1yqLJg1X0xdYZ",t},response:function(t){return t},responseError:function(n){return 401===n.status&&(t.$broadcast("unauthorized"),e.path("/login")),n}}}angular.module("tessaApp").factory("authInterceptor",n).factory("AuthFactory",t),n.$inject=["$rootScope","$q","$location","$injector"],t.$inject=["$http","_","API_URL","API_VERSION","Restangular"]}();